---
title: "Trash Exploration (Jambeck et al 2015)"
output: html_document
---

Proposed data for trash from [**Jambeck et al 2015: Plastic waste inputs from land into the ocean**](http://science.sciencemag.org/content/347/6223/768.full.pdf+html)

*"the framework includes: 

    - (i) the mass of waste generated per capita annually; 
    - (ii) the percentage of waste that is plastic; and 
    - (iii) the percentage of plastic waste that is mismanaged and, therefore, has the potential to enter the ocean as marine debris (12) (data S1). By applying a range of conversion rates from mismanaged waste to marine debris, we estimated the mass of plastic waste entering the ocean from each country in 2010, used population growth data (13) to project the increase in mass to 2025, and predicted growth in the percentage of waste that is plastic."*

## Potential path forward:

**Status**: 2010 modeled values / ref point  
**Ref pt**: need to explore literature/mgt: some % decrease from 2010...  
**Trend**: use projected 2025 data to get 5-year trend

```{r setup, echo = FALSE, message = FALSE, warning = FALSE}

## packages, directories
library(dplyr)
library(readr)  # install.packages('readr')
library(readxl) # install.packages('readxl')
library(ggplot2)

dir_prep   = '~/github/bhi/baltic2015/prep'
dir_raw    = file.path(dir_prep, 'CW/trash/raw')
trash_file = '1260352_SupportingFile_Suppl._Excel_seq1_v1.xlsx'

## lookup table
baltic_lookup = read_csv(file.path(dir_prep, 'country_id.csv'))

```

## Modeled Mismanaged plastic waste 2010 
Note: these data are for all of these countries, so do fraction of coastline or something to downweight
```{r data explore, echo = FALSE, message = FALSE, warning = FALSE}
## read in data
d_raw = read_excel(file.path(dir_raw, trash_file));  #head(d_raw); summary(d_raw)

## filter and rename
d = d_raw %>%
  dplyr::rename(
    country                      = Country,
    econ_status                  = `Economic status1`,
    coastal_pop                  = `Coastal population2`,
    waste_gen_rate_kg_person_day = `Waste generation rate [kg/person/day]3`,
    perc_plastic_waste_stream    = `% Plastic in waste stream4`,
    perc_inadq_managed_waste     = `% Inadequately managed waste5`,
    perc_littered_waste          = `% Littered waste6`,
    waste_gen_kg_day             = `Waste generation [kg/day]7`,
    plastic_waste_gen_kg_day     = `Plastic waste generation [kg/day]7`,
    inadq_managed_plastic_kg_day = `Inadequately managed plastic waste [kg/day]7`,
    plastic_waste_littered       = `Plastic waste littered\r\n [kg/day]7`,
    modeled_waste_percap         = `Mismanaged plastic waste [kg/person/day]7`,
    modeled_waste_2010           = `Mismanaged plastic waste in 2010\r\n [tonnes]7`,
    modeled_waste_2025           = `Mismanaged plastic waste in 2025\r\n [tonnes]7`) %>%
  filter(country %in% baltic_lookup$country_name)


## save data (columnnames cleaned and data filtered for BHI)

write.csv(d, '~/github/bhi/baltic2015/prep/CW/trash/intermediate/trash_jambeck_baltic.csv')

## plot 2010
ggplot(d, aes(country, modeled_waste_2010)) +
  geom_bar(stat='identity')

```


## Modeled Mismanaged plastic waste 2025
Note: these data are for all of these countries, so do fraction of coastline or something to downweight

```{r data explore 2025, echo = FALSE, message = FALSE, warning = FALSE}

## plot 2025
ggplot(d, aes(country, modeled_waste_2025)) +
  geom_bar(stat='identity')

```


## Prepare data layer for Toolbox 

**Plan:** 

Modeled Mismanaged plastic waste data (tonnes) are reported for each country. We will create scores for each country related to the reference point, and then apply to all of that country's BHI regions under the assumption that the management for the country is probably equal.  Note: for BHI 2.0, would be better to recalcuate their model using coastal population for each BHI region. 

**Reference points**

Need a min and a max reference point (they will ultimately be inverted for CW but not as a pressure)

- **Minimum modeled trash entering the ocean = 0** (we want no trash entering the ocean)
- **Maximum modeled trash entering the ocean = highest Eurpean country in 2025** (we have 2025 modeled data. Is this reasonable, ie do we think that the maximum trash we see in Europe, or is that too high because it's based on a larger population that we don't have now? Another option would be to make a linear model between 2010 and 2025 and choose a year more like 2015?)


```{r data layer, echo = FALSE, message = FALSE, warning = FALSE}

# d = read.csv('~/github/bhi/baltic2015/prep/CW/trash/intermediate/trash_jambeck_baltic.csv')

## rescale to reference point -- whole European area? or just Baltic?
summary(d)  

trash = d %>%
  select(country, coastal_pop, modeled_waste_2010, modeled_waste_2025)

## 

  

## calculate trend; maybe make a linear model between 2010 and 2025, take trend as 5 years out?

## assign to BHI regions
  

```

